'use client'

import { useState } from 'react'
import Link from 'next/link'

import { useScrollPercentage } from '@/lib/scroll'
import styles from '@/styles/components/global/header.module.css'
import utils from '@/styles/utils.module.css'

export default function Header() {
  const [newLogo, setNewLogo] = useState(false)
  const { percentage: scrollPercentage } = useScrollPercentage({ windowScroll: true })

  return (
    <header>
      <Link href="/">
        <div className={styles.progress} style={{ width: `${scrollPercentage.vertical}%` }} />
        <h1
          onClick={(e) => {
            setNewLogo(!newLogo)
            e.preventDefault()
          }}
        >
          <span className={utils.srOnly}>Mike Farrow</span>
          {(newLogo && (
            <svg
              className={styles.logo}
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              xmlSpace="preserve"
              x="0px"
              y="0px"
              viewBox="0 0 812.8 188.4"
            >
              <g>
                <polygon
                  className="st0"
                  points="77.6,63.3 26.9,63.3 26.9,32.3 85.4,32.3 85.4,6.3 0,6.3 0,142.9 26.9,142.9 26.9,89.3 77.6,89.3 	"
                />
                <path
                  className="st0"
                  d="M337.4,84.3c3.8-4.6,6.5-9.7,8.2-15.2c1.7-5.6,2.5-11.1,2.5-16.7c0-7.1-1.2-13.4-3.5-19
		c-2.4-5.6-5.8-10.5-10.3-14.5c-4.5-4-10.1-7.1-16.8-9.3c-6.7-2.2-14.3-3.2-22.8-3.2h-41.4v136.6h26.9V99.5H298l28.9,43.4h31.4
		l-31.8-49.6C330.8,90.8,334.4,87.8,337.4,84.3z M280.1,32.3h19.3c4.7,0,8.4,0.8,11.2,2.4c2.8,1.6,4.9,3.6,6.2,5.9
		c1.4,2.4,2.3,4.7,2.7,7c0.4,2.3,0.6,4.2,0.6,5.7c0,2-0.3,4.1-1,6.4c-0.7,2.3-1.8,4.5-3.3,6.6c-1.5,2.1-3.7,3.8-6.4,5.2
		c-2.7,1.4-6.1,2-10.2,2h-19.1V32.3z"
                />
                <path
                  className="st0"
                  d="M464.7,84.3c3.8-4.6,6.5-9.7,8.2-15.2c1.7-5.6,2.5-11.1,2.5-16.7c0-7.1-1.2-13.4-3.5-19
		c-2.4-5.6-5.8-10.5-10.3-14.5c-4.5-4-10.1-7.1-16.8-9.3c-6.7-2.2-14.3-3.2-22.8-3.2h-41.4v136.6h26.9V99.5h17.9l28.9,43.4h31.4
		l-31.8-49.6C458.1,90.8,461.8,87.8,464.7,84.3z M407.4,32.3h19.3c4.7,0,8.4,0.8,11.2,2.4c2.8,1.6,4.9,3.6,6.2,5.9
		c1.4,2.4,2.3,4.7,2.7,7c0.4,2.3,0.6,4.2,0.6,5.7c0,2-0.3,4.1-1,6.4c-0.7,2.3-1.8,4.5-3.3,6.6c-1.5,2.1-3.7,3.8-6.4,5.2
		c-2.7,1.4-6.1,2-10.2,2h-19.1V32.3z"
                />
                <polygon
                  className="st0"
                  points="812.8,7.2 783.8,7.2 760.7,83.1 730,7.2 703.3,7.2 714.1,34.2 693.2,86.2 666.4,7.2 634.8,7.2 
		689.7,149.2 727.6,67.9 760.1,148.9 	"
                />
                <path
                  className="st0"
                  d="M73.9,142.9h165L156.4,0L73.9,142.9z M118.8,117l37.6-65.1L194,117H118.8z"
                />
                <path
                  className="st0"
                  d="M562.4,4.8c-38.6,0-69.8,31.3-69.8,69.8s31.3,69.8,69.8,69.8s69.8-31.3,69.8-69.8S601,4.8,562.4,4.8z
		 M562.4,118.5c-24.2,0-43.9-19.7-43.9-43.9c0-24.2,19.7-43.9,43.9-43.9c24.2,0,43.9,19.7,43.9,43.9
		C606.3,98.8,586.6,118.5,562.4,118.5z"
                />
                <rect x="510.3" y="162.5" className="st0" width="104.2" height="25.9" />
              </g>
            </svg>
          )) || (
            <svg
              className={styles.logo}
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              xmlSpace="preserve"
              x="0px"
              y="0px"
              viewBox="0 0 605.4 134.1"
            >
              <g>
                <path d="M115,36.6l27.3,47.3H87.7L115,36.6 M115,1.4L57.2,101.5h115.5L115,1.4L115,1.4z" />
                <g>
                  <path
                    d="M407.1,17.6c18.7,0,33.9,15.2,33.9,33.9s-15.2,33.9-33.9,33.9c-18.7,0-33.9-15.2-33.9-33.9
      S388.5,17.6,407.1,17.6 M407.1,0c-28.4,0-51.5,23.1-51.5,51.5c0,28.4,23.1,51.5,51.5,51.5s51.5-23.1,51.5-51.5
      C458.6,23,435.6,0,407.1,0L407.1,0z"
                  />
                  <rect x="368.7" y="117" width="76.9" height="17.6" />
                </g>
                <polygon points="63.3,1.2 0,1.2 0,101.5 18.7,101.5 18.7,60.6 56.3,60.6 56.3,45.7 18.7,45.7 18.7,16 63.3,16,63.3,1.2" />
                <path d="M215.2,1.2h-30.6v100.3h18.7V62.3h8c1.8,0,3.2,0.3,4.2,0.8c0.9,0.5,1.8,1.4,2.6,2.6l21.1,32.1,c1.4,2.5,3.7,3.7,6.9,3.7H263l-25.1-37c-0.8-1.3-1.8-2.4-2.8-3.4s-2.1-1.8-3.3-2.5c3.5-1.1,6.6-2.5,9.4-4.4c2.8-1.9,5.1-4,6.9-6.5,c1.9-2.4,3.3-5.2,4.3-8.2c1-3,1.5-6.2,1.5-9.6c0-4.3-0.7-8.2-2.2-11.7c-1.5-3.5-3.8-6.6-6.9-9.1c-3.1-2.5-7.1-4.5-12-5.9,C227.9,1.9,222,1.2,215.2,1.2L215.2,1.2z M203.3,48.9V15.6h11.9c6.9,0,12,1.4,15.4,4.1c3.4,2.7,5,6.6,5,11.7c0,2.5-0.4,4.9-1.2,7,c-0.8,2.1-2.1,4-3.8,5.5c-1.7,1.5-3.8,2.8-6.5,3.6c-2.6,0.9-5.7,1.3-9.2,1.3H203.3L203.3,48.9z" />
                <path d="M304.4,1.2h-30.6v100.3h18.7V62.3h8c1.8,0,3.2,0.3,4.2,0.8c0.9,0.5,1.8,1.4,2.6,2.6l21.1,32.1,c1.4,2.5,3.7,3.7,6.9,3.7h16.9l-25.1-37c-0.8-1.3-1.8-2.4-2.8-3.4c-1-0.9-2.1-1.8-3.3-2.5c3.5-1.1,6.6-2.5,9.4-4.4,c2.8-1.9,5.1-4,6.9-6.5c1.9-2.4,3.3-5.2,4.3-8.2c1-3,1.5-6.2,1.5-9.6c0-4.3-0.7-8.2-2.2-11.7c-1.5-3.5-3.8-6.6-6.9-9.1,c-3.1-2.5-7.1-4.5-12-5.9C317.1,1.9,311.2,1.2,304.4,1.2L304.4,1.2z M292.5,48.9V15.6h11.9c6.9,0,12,1.4,15.4,4.1,c3.4,2.7,5,6.6,5,11.7c0,2.5-0.4,4.9-1.2,7c-0.8,2.1-2.1,4-3.8,5.5c-1.7,1.5-3.8,2.8-6.5,3.6c-2.6,0.9-5.7,1.3-9.2,1.3H292.5,L292.5,48.9z" />
                <path d="M605.6,1.2h-14.6c-1.6,0-2.9,0.4-4.1,1.2c-1.1,0.8-1.8,1.8-2.1,3l-17.1,60c-0.7,3-1.4,6.3-2,9.9,c-0.8-3.7-1.7-7.1-2.6-9.9l-19.6-60c-0.5-1.2-1.3-2.3-2.3-3.1c-1-0.8-2.3-1.2-4-1.2h-5.5c-1.6,0-2.9,0.4-4,1.3,c-1.1,0.9-1.8,1.9-2.2,2.9l-19.7,60c-0.5,1.5-1,3.1-1.4,4.8c-0.4,1.7-0.8,3.5-1.2,5.5c-0.4-1.9-0.7-3.7-1.1-5.4,c-0.3-1.7-0.7-3.3-1.1-4.8L484,5.4c-0.4-1.3-1.1-2.3-2.2-3.1c-1.1-0.8-2.4-1.1-4.1-1.1h-15.6l31.1,100.3h16.9L532.3,33,c0.3-0.9,0.6-1.8,0.9-2.8c0.3-1,0.6-2.1,0.8-3.3c0.5,2.4,1.1,4.4,1.7,6.1l21.9,68.5h16.9L605.6,1.2L605.6,1.2z" />
              </g>
            </svg>
          )}
        </h1>
      </Link>
      <ul>
        <li>
          <Link href="/cv">CV</Link>
        </li>
        <li>
          <Link href="/projects">Projects</Link>
        </li>
      </ul>
    </header>
  )
}
